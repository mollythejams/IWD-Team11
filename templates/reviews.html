{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reviews</title>

    <!-- Bootstrap CSS -->
    <link 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" 
    rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" 
    crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <!--Stylesheet-->
    <link rel="stylesheet" href="{% static 'style.css' %}"/>

    <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">
</head>
<body>
  <!--Navigation Bar-->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="landing">MD Wow</a>

      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item active">
            <a class="nav-link" href="landing">Home</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="landing#find">Find a Doctor</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="reviews">Reviews</a>
          </li>
        </ul>
      </div>
        <a class="btn btn-sm btn-outline-secondary" href="signin" role="button">
          Log In
        </a>
        <a class="btn btn-sm btn-outline-secondary" href="signup" role="button">
          Sign Up
        </a>
    </div>
  </nav>

      <!-- Review Summary -->
      <div class="container mt-5">
        <div class="card">
            <div class="row no-gutters">
                <div class="col-md-4 border-right">
                    <div class="ratings text-center p-4 py-5"> <span class="badge bg-danger">{{rating}} <i class="fa fa-star-o"></i></span> <span class="d-block about-rating">{{scale}}</span> <span class="d-block total-ratings">{{total_star}} ratings</span> </div>
                </div>
                <div class="col-md-8">
                    <div class="rating-progress-bars p-3">
                        <div class="progress-1 align-items-center">
                          <table>
                            <tr>
                              <td><label for="five-stars">5⭐</label></td>
                          <td class="w-100">
                            <div class="progress" id="five-stars">
                                <div class="progress-bar bg-danger" role="progressbar" style="width: {{five_percentage}}%;" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"> {{five_percentage}}% </div>
                            </div>
                          </td>
                          </tr>

                          <tr>
                            <td>
                            <label for="four-stars">4⭐</label>
                            </td>
                            <td class="w-100">
                            <div class="progress" id="four-stars">
                                <div class="progress-bar bg-danger" role="progressbar" style="width: {{four_percentage}}%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"> {{four_percentage}}%</div>
                            </div>
                          </td>
                          </tr>
                          <tr>
                            <td>
                            <label for="three-stars">3⭐</label>
                          </td>
                          <td class="w-100">
                            <div class="progress"id="three-stars">
                                <div class="progress-bar bg-danger" role="progressbar" style="width: {{three_percentage}}%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"> {{three_percentage}}%</div>
                            </div>
                          </td>
                          </tr>

                          <tr>
                            <td>
                            <label for="two-stars">2⭐</label>
                            </td>
                            <td class="w-100">
                            <div class="progress"id="two-stars">
                                <div class="progress-bar bg-danger" role="progressbar" style="width: {{two_percentage}}%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"> {{two_percentage}}%</div>
                            </div>
                          </td>
                          </tr>

                          <tr>
                            <td>
                            <label for="one-stars">1⭐</label>
                            </td>
                            <td class="w-100"> 
                            <div class="progress"id="one-stars">
                                <div class="progress-bar bg-danger" role="progressbar" style="width: {{one_percentage}}%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"> {{one_percentage}}%</div>
                            </div>
                            </td>
                          </tr>
                          </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<!-- Reviews -->
    <div class="container mt-5 ">
        <h5>Reviews</h5>
        {% for review_name, review_rate, review_comment in review_list %}
        {% if forloop.first %}
        <ul class="list-group">
          <li class="list-group-item">
            
            <div class="row h-100">
              <div class="col-1">
                <img class="reviews-avatar" src="{% static 'icons/user.png' %}" alt="avatar">
              </div>
              <div class="col">
                <p class="reviews-user-name mt-1">{{review_name}}</p>
                <p>{{review_rate}}</p>
                <p class="reviews-text">{{review_comment}}</p>
              </div>
            </div>
          </li>
        </ul>
          {%else%}
          <div class="collapse" id="showMore">
          <ul class="list-group">
            <li class="list-group-item">
              
              <div class="row h-100">
                <div class="col-1">
                  <img class="reviews-avatar" src="{% static 'icons/user.png' %}" alt="avatar">
                </div>
                <div class="col">
                  <p class="reviews-user-name mt-1">{{review_name}}</p>
                  <p>{{review_rate}}</p>
                  <p class="reviews-text">{{review_comment}}</p>
                </div>
              </div>
            </li>
            </ul>
          </div>
            {%endif%}
          {%endfor%}

          <!-- Show More -->
          
        <div class="container text-center">
        <button class="btn btn-danger show-btn" type="button" data-bs-toggle="collapse" data-bs-target="#showMore" aria-expanded="false" aria-controls="showMore">     
          Show More 
        </button>
      </div>
    </div>

<!--Input Review Section-->
<section>
  <form method="post" action="reviews">
  {% csrf_token %}
  <div class="container my-3 py-5">
    <div class="row d-flex justify-content-center">
      <div class="col-md-12 col-lg-10 col-xl-8">
        <div class="card-body">
          <div class="d-flex flex-start align-items-center">

            <div class="container align-items-center">
              <h5>Rate our service:</h5>
              {% if user.is_authenticated %}
              <input type="hidden" name="user_name" value="{{user.username}}"></input>
              {% else%}
              <input type="hidden" name="user_name" value="Guest"></input>
              {%endif%}
              <div class="rating-css">
                <div class="star-icon"> 
                    <input type="radio" name="user_rate" value=1 id="rating1">
                    <label for="rating1" class="fa fa-star"></label>
                    <input type="radio" name="user_rate" value=2 id="rating2">
                    <label for="rating2" class="fa fa-star"></label>
                    <input type="radio" name="user_rate" value=3 id="rating3">
                    <label for="rating3" class="fa fa-star"></label>
                    <input type="radio" name="user_rate" value=4 id="rating4">
                    <label for="rating4" class="fa fa-star"></label>
                    <input type="radio" name="user_rate" value=5 id="rating5">
                    <label for="rating5" class="fa fa-star"></label>
                </div>
              </div>
            </div>
          </div>
          </div>

          <div class="card-footer py-3 border-0" style="background-color: #f8f9fa;">
            <div class="d-flex flex-start w-100">

              <img class="rounded-circle shadow-1-strong me-3"
              src="{% static 'icons/user.png' %}" alt="avatar" width="40"
              height="40" />

              <div class="form-outline w-100">
                <textarea class="form-control" name="user_review" id="textAreaExample" rows="4"
                  style="background: #fff;"></textarea>
                <label class="form-label" for="textAreaExample">Write a short review!</label>
              </div>
            </div>
            <div class="float-end mt-2 pt-1">
              <button type="submit" class="btn btn-danger btn-sm">Post Review</button>
            </div>
          </div>
      </div>
    </div>
  </div>
</form>
</section>

<!-- Footer -->
  <footer>
    <div class="container h-100">
      <div class="h-100 text-left align-items-left">

        <div class="row">
          <div class="col-7">
            <h6> <b>MD Wow</b> </h6>
            <p class="footer-text">
              MD Wow is a digital healthcare platform to access clinics, pharmacies, hospitals and health laboratories online. 
              It provides online doctor and specialist consultation via chat, e-pharmacy, health screening, vaccinations, health tests, health forum and health content.
              <br>
            </p>
          </div>
          <!-- Col -->
          <div class="col-4 footer-col">
          <h6 class="footer-text"> <b>CONTACT</b> </h6>
          <br>
          <p class="footer-text">
            <b>For help with your order:</b>
            <br>+603 8408 2000
            <br>
            <br>
            <b>For general enquiries: </b>
            <br>contact@DoctorOnCall.com.my
            <br>
            <br>
            <b>For corporate partnerships: </b>
            <br>partnerships@DoctorOnCall.com.my
            <br>
            <br>
            </p>
        </div>
        <!-- Col -->
        </div>

        <div class="row">
          <div class="col-6">
            <p class="footer-text">Copyright 2022 heheh</p>
          </div>

          <div class="col-6 text-right">
          <!-- <p class="footer-text text-right">All rights reserved.</p> -->
        </div>
        </div>

      </div>
    </div>
  </footer>

  <!-- Chat -->
  {%include 'test.html'%} 

</body>
</html>